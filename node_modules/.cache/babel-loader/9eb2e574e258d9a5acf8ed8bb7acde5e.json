{"remainingRequest":"/Users/Will/Desktop/final-project-dream-team/node_modules/babel-loader/lib/index.js!/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Will/Desktop/final-project-dream-team/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Will/Desktop/final-project-dream-team/src/components/MainContent/CommentsW.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Will/Desktop/final-project-dream-team/src/components/MainContent/CommentsW.vue","mtime":1606936184755},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21tZW50c1cnLAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogW10sCiAgICAgIC8vIE5vdCBzaG93biBmb3Igbm93CiAgICAgIGNvbW1lbnRzOiBbXSwKICAgICAgY29tbWVudENvbnRlbnQ6ICIiLAogICAgICBsb2NhdGlvbjogIlNraUxpbmVzIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiL2FwaS9jb21tZW50cy8iLmNvbmNhdCh0aGlzLmxvY2F0aW9uKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHZhciBmdWxsUmVzcG9uc2UgPSByZXMucmVzcG9uc2UgPT09IHVuZGVmaW5lZCA/IHJlcyA6IHJlcy5yZXNwb25zZTsKCiAgICAgIGlmIChmdWxsUmVzcG9uc2UuZGF0YS5jb21tZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgX3RoaXMuY29tbWVudHMgPSBmdWxsUmVzcG9uc2UuZGF0YS5jb21tZW50czsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBfdGhpcy5lcnJvcnMucHVzaChlcnIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNvbW1lbnQ6IGZ1bmN0aW9uIG9uQ29tbWVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYm9keUNvbnRlbnQgPSB7CiAgICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sCiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50Q29udGVudAogICAgICB9OyAvLyBUT0RPOiBNYWtlIGxvY2F0aW9uIGEgcHJvcAoKICAgICAgYXhpb3MucG9zdCgiL2FwaS9jb21tZW50cy8iLCBib2R5Q29udGVudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGZ1bGxSZXNwb25zZSA9IHJlcy5yZXNwb25zZSA9PT0gdW5kZWZpbmVkID8gcmVzIDogcmVzLnJlc3BvbnNlOwoKICAgICAgICBfdGhpczIuY29tbWVudHMucHVzaCh7CiAgICAgICAgICB1c2VybmFtZTogX3RoaXMyLiRjb29raWUuZ2V0KCdzYWZlc2tpaWktYXV0aCcpLAogICAgICAgICAgY29tbWVudDogZnVsbFJlc3BvbnNlLmRhdGEuY29tbWVudAogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuY29tbWVudENvbnRlbnQgPSAiIjsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMi5lcnJvcnMucHVzaChfdGhpczIuc2hvd1Jlc3BvbnNlKGVycikpOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93UmVzcG9uc2U6IGZ1bmN0aW9uIHNob3dSZXNwb25zZShheGlvc1Jlc3BvbnNlKSB7CiAgICAgIHZhciBmdWxsUmVzcG9uc2UgPSBheGlvc1Jlc3BvbnNlLnJlc3BvbnNlID09PSB1bmRlZmluZWQgPyBheGlvc1Jlc3BvbnNlIDogYXhpb3NSZXNwb25zZS5yZXNwb25zZTsKICAgICAgdmFyIGFicmlkZ2VkUmVzcG9uc2UgPSBmdWxsUmVzcG9uc2UuZGF0YTsKICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFicmlkZ2VkUmVzcG9uc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CommentsW.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAbA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,KAAA,CAAA,GAAA,yBAAA,KAAA,QAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,UAAA,YAAA,GAAA,GAAA,CAAA,QAAA,KAAA,SAAA,GAAA,GAAA,GAAA,GAAA,CAAA,QAAA;;AACA,UAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,YAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,KANA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA;AACA,KATA;AAUA,GA1BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,UAAA,WAAA,GAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA;AAAA,QAAA,OAAA,EAAA,KAAA;AAAA,OAAA,CADA,CACA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,gBAAA,EAAA,WAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,YAAA,GAAA,GAAA,CAAA,QAAA,KAAA,SAAA,GAAA,GAAA,GAAA,GAAA,CAAA,QAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AAAA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,CAAA;AAAA,UAAA,OAAA,EAAA,YAAA,CAAA,IAAA,CAAA;AAAA,SAAA;;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,EAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,YAAA,CAAA,GAAA,CAAA;AACA,OARA;AASA,KAZA;AAaA,IAAA,YAAA,EAAA,sBAAA,aAAA,EAAA;AACA,UAAA,YAAA,GAAA,aAAA,CAAA,QAAA,KAAA,SAAA,GACA,aADA,GAEA,aAAA,CAAA,QAFA;AAGA,UAAA,gBAAA,GAAA,YAAA,CAAA,IAAA;AACA,aAAA,IAAA,CAAA,SAAA,CAAA,gBAAA,CAAA;AACA;AAnBA;AA5BA,CAAA","sourcesContent":["<template>\n  <div class=\"hello\">\n    <div id=\"title\">Comments</div>\n\n    <!-- <div class=\"icon\"> <img alt=\"Home\" src=\"../../assets/logo.png\" width=200 height=100> </div> -->\n\n    <ul>\n      <div v-if='comments.length'>\n        <p class=\"comments\" v-for=\"comment in comments\" :key=\"comment.message\">\n          <span style=\"font-weight: 800;\">{{ comment.username }}:</span> {{ comment.comment }}\n        </p> \n      </div>\n      <div v-else class=\"comments\">No comments yet! Add one :)</div>\n    </ul>\n\n    <input type=\"text\" id=\"comment\" name=\"comment\" v-model='commentContent'><br>\n    <button type=\"button\" v-on:click=\"onComment()\">Comment!</button>\n\n    <div v-if='errors.length' class=\"error-message\">\n      <b>Please correct the following error(s):</b>\n      <ul>\n        <li v-for='error in errors' v-bind:key='error.id'>{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: 'CommentsW',\n  props: {\n    msg: String\n  },\n\n  data() {\n    return {\n      errors: [],  // Not shown for now\n      comments: [],\n      commentContent: \"\",\n      location: \"SkiLines\"\n    }\n  },\n  \n  mounted() {\n    axios.get(`/api/comments/${this.location}`)\n      .then((res) => {\n          const fullResponse = res.response === undefined ? res : res.response;\n          if (fullResponse.data.comments.length > 0) {\n            this.comments = fullResponse.data.comments;\n          }\n      })\n      .catch((err) => {\n          this.errors.push(err);\n      });\n  },\n\n  methods: {\n    onComment() {\n      const bodyContent = { location: this.location, comment: this.commentContent };  // TODO: Make location a prop\n      axios.post(\"/api/comments/\", bodyContent)\n        .then((res) => {\n          const fullResponse = res.response === undefined ? res : res.response;\n          this.comments.push({username: this.$cookie.get('safeskiii-auth'), comment: fullResponse.data.comment });\n          this.commentContent = \"\";\n        })\n        .catch((err) => {\n          this.errors.push(this.showResponse(err));\n        });\n    },\n    showResponse: function(axiosResponse) {\n      const fullResponse = axiosResponse.response === undefined\n          ? axiosResponse\n          : axiosResponse.response;\n      const abridgedResponse = fullResponse.data;\n      return JSON.stringify(abridgedResponse);\n    }\n  }\n}\n</script>\n\n<style scoped>\n#title {\n  font-size: 30px;\n}\n.hello {\n    background-color: lightblue;\n    margin-right: 5px;\n    border-style: solid;\n    border-width: 2px;\n    border-radius: 15px;\n    padding: 30px;\n    box-shadow: 2px 2px;\n\n    height: 80%;\n}\n\n.hello:hover{\n    box-shadow: 0 10px 25px;\n    transform: scale(1.01);\n}\n\n.comments {\n  text-align: left;\n}\n\nh3 {\n  margin: 40px 0 0;\n}\n\na {\n  color: #42b983;\n}\n</style>"],"sourceRoot":"src/components/MainContent"}]}