{"remainingRequest":"/Users/Will/Desktop/final-project-dream-team/node_modules/babel-loader/lib/index.js!/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Will/Desktop/final-project-dream-team/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Will/Desktop/final-project-dream-team/src/views/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Will/Desktop/final-project-dream-team/src/views/Settings.vue","mtime":1606936184773},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRvcEJhciBmcm9tICcuLi9jb21wb25lbnRzL1RvcEJhci52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gIi4uL21haW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NldHRpbmdzJywKICBwcm9wczogewogICAgbXNnOiBTdHJpbmcKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFRvcEJhcjogVG9wQmFyCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VOYW1lOiBmdW5jdGlvbiBjaGFuZ2VOYW1lKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGJvZHkgPSB7fTsKICAgICAgYXhpb3MucHV0KCIvYXBpL3VzZXJzLyIuY29uY2F0KHRoaXMubmV3VXNlcm5hbWUsICIvdXNlcm5hbWUiKSwgYm9keSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gaGFuZGxlIHN1Y2Nlc3MKICAgICAgICBfdGhpcy4kY29va2llLnNldCgnc2FmZXNraWlpLWF1dGgnLCBfdGhpcy5uZXdVc2VybmFtZSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnU2V0dGluZ3MnCiAgICAgICAgfSk7CgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJjaGFuZ2UtdXNlcm5hbWUtc3VjY2VzcyIsIHJlcyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAvLyBoYW5kbGUgZXJyb3IKICAgICAgICBldmVudEJ1cy4kZW1pdCgiY2hhbmdlLXVzZXJuYW1lLWVycm9yIiwgZXJyKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gYWx3YXlzIGV4ZWN1dGVkCiAgICAgICAgX3RoaXMucmVzZXRGb3JtKCk7CgogICAgICAgIF90aGlzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBib2R5ID0gewogICAgICAgIHBhc3N3b3JkOiB0aGlzLm5ld1Bhc3N3b3JkCiAgICAgIH07CiAgICAgIGF4aW9zLnB1dCgiL2FwaS91c2Vycy9wYXNzd29yZCIsIGJvZHkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGhhbmRsZSBzdWNjZXNzCiAgICAgICAgZXZlbnRCdXMuJGVtaXQoImNoYW5nZS1wYXNzd29yZC1zdWNjZXNzIiwgcmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIC8vIGhhbmRsZSBlcnJvcgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJjaGFuZ2UtcGFzc3dvcmQtZXJyb3IiLCBlcnIpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBhbHdheXMgZXhlY3V0ZWQKICAgICAgICBfdGhpczIucmVzZXRGb3JtKCk7CgogICAgICAgIF90aGlzMi5jbGVhck1lc3NhZ2VzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgYXhpb3MuZGVsZXRlKCIvYXBpL3VzZXJzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gaGFuZGxlIHN1Y2Nlc3MKICAgICAgICBfdGhpczMuJGNvb2tpZS5zZXQoJ3NhZmVza2lpaS1hdXRoJywgJycpOwoKICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCcvJyk7CgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJkZWxldGUtdXNlci1zdWNjZXNzIiwgcmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIC8vIGhhbmRsZSBlcnJvcgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJkZWxldGUtdXNlci1lcnJvciIsIGVycik7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGFsd2F5cyBleGVjdXRlZAogICAgICAgIF90aGlzMy5yZXNldEZvcm0oKTsKCiAgICAgICAgX3RoaXMzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMubmV3VXNlcm5hbWUgPSAiIiwgdGhpcy5uZXdQYXNzd29yZCA9ICIiOwogICAgfSwKICAgIGNsZWFyTWVzc2FnZXM6IGZ1bmN0aW9uIGNsZWFyTWVzc2FnZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5tZXNzYWdlcyA9IFtdOwogICAgICB9LCA1MDAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,MAAA,MAAA,0BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GALA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,UAAA,IAAA,GAAA,EAAA;AACA,MAAA,KAAA,CACA,GADA,sBACA,KAAA,WADA,gBACA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,KAAA,CAAA,WAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,yBAAA,EAAA,GAAA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,GAAA;AACA,OAXA,EAYA,IAZA,CAYA,YAAA;AACA;AACA,QAAA,KAAA,CAAA,SAAA;;AACA,QAAA,KAAA,CAAA,aAAA;AACA,OAhBA;AAiBA,KApBA;AAsBA,IAAA,cAAA,EAAA,0BAAA;AAAA;;AACA,UAAA,IAAA,GAAA;AAAA,QAAA,QAAA,EAAA,KAAA;AAAA,OAAA;AACA,MAAA,KAAA,CACA,GADA,wBACA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,yBAAA,EAAA,GAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,GAAA;AACA,OATA,EAUA,IAVA,CAUA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,SAAA;;AACA,QAAA,MAAA,CAAA,aAAA;AACA,OAdA;AAeA,KAvCA;AAyCA,IAAA,UAAA,EAAA,sBAAA;AAAA;;AACA,MAAA,KAAA,CACA,MADA,eAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,EAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,qBAAA,EAAA,GAAA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,mBAAA,EAAA,GAAA;AACA,OAXA,EAYA,IAZA,CAYA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,SAAA;;AACA,QAAA,MAAA,CAAA,aAAA;AACA,OAhBA;AAiBA,KA3DA;AA6DA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,WAAA,GAAA,EAAA,EACA,KAAA,WAAA,GAAA,EADA;AAEA,KAhEA;AAkEA,IAAA,aAAA,EAAA,yBAAA;AAAA;;AACA,MAAA,WAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AAtEA;AATA,CAAA","sourcesContent":["<template>\n  <div class=\"hello\">\n    <TopBar/>\n    <div id=\"title\"> My Info </div>\n\n    <div id=\"body\">\n      <div class=\"image\"> <img alt=\"Home\" src=\"../assets/settings.png\" width=150 height=150> </div>\n      <div class=\"main\"> \n        <!-- settings 1 <br>\n        settings 2 <br>\n        settings 3 <br>\n        settings 1 <br>\n        settings 2 <br>\n        settings 3 <br> -->\n        <div> Hello, {{this.$cookie.get('safeskiii-auth')}}! </div> <br>\n\n        <form id=\"change-name\" v-on:submit.prevent='changeName' method='put'>\n          <input id='newUsername' v-model.trim='newUsername' type='text' name='username'  placeholder=\"New username\">\n          <input type='submit' value=\"Change Username\" id=\"change-name-submit\" class=\"button\">\n        </form> <br>\n\n        <form id=\"change-password\" v-on:submit.prevent='changePassword' method='put'>\n          <input id='newPassword' v-model.trim='newPassword' type='text' name='password'  placeholder=\"New password\">\n          <input type='submit' value=\"Change Password\" id=\"change-password-submit\" class=\"button\">\n        </form> <br>\n\n        <form id=\"delete-user\" v-on:submit.prevent='deleteUser' method='delete'>\n          <input type='submit' value=\"Delete User\" id=\"delete-user-submit\" class=\"button\">\n        </form> <br>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport TopBar from '../components/TopBar.vue'\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: 'Settings',\n  props: {\n    msg: String\n  },\n  components: {\n    TopBar\n  },\n  \n  methods: {\n    changeName: function() {\n      const body = { };\n      axios\n        .put(`/api/users/${this.newUsername}/username`, body)\n        .then((res) => {\n          // handle success\n          this.$cookie.set('safeskiii-auth', this.newUsername);\n          this.$router.push({ name: 'Settings' })\n          eventBus.$emit(\"change-username-success\", res);\n        })\n        .catch(err => {\n          // handle error\n          eventBus.$emit(\"change-username-error\", err);\n        })\n        .then(() => {\n          // always executed\n          this.resetForm();\n          this.clearMessages();\n        });\n    },\n\n    changePassword: function() {\n      const body = { password: this.newPassword };\n      axios\n        .put(`/api/users/password`, body)\n        .then((res) => {\n          // handle success\n          eventBus.$emit(\"change-password-success\", res);\n        })\n        .catch(err => {\n          // handle error\n          eventBus.$emit(\"change-password-error\", err);\n        })\n        .then(() => {\n          // always executed\n          this.resetForm();\n          this.clearMessages();\n        });\n    },\n\n    deleteUser: function() {\n      axios\n        .delete(`/api/users`)\n        .then((res) => {\n          // handle success\n          this.$cookie.set('safeskiii-auth', '');\n          this.$router.push('/')\n          eventBus.$emit(\"delete-user-success\", res);\n        })\n        .catch(err => {\n          // handle error\n          eventBus.$emit(\"delete-user-error\", err);\n        })\n        .then(() => {\n          // always executed\n          this.resetForm();\n          this.clearMessages();\n        });\n    },\n\n    resetForm: function() {\n      this.newUsername = \"\",\n      this.newPassword = \"\"\n    },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.messages = [];\n      }, 5000);\n    }\n  }\n}\n</script>\n\n<style scoped>\n#title {\n  font-size: 48px;\n}\n#body {\n  display: flex;\n}\n.image {\n  padding: 70px 0;\n  width: 30%;\n}\n.main {\n  margin-top: 5%;\n  text-align: left;\n}\n#delete-user {\n  margin-left: 0;\n}\n</style>"],"sourceRoot":"src/views"}]}