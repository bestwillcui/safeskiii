{"remainingRequest":"/Users/Will/Desktop/final-project-dream-team/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Will/Desktop/final-project-dream-team/src/components/MainContent/CheckinW.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Will/Desktop/final-project-dream-team/src/components/MainContent/CheckinW.vue","mtime":1607531809489},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Will/Desktop/final-project-dream-team/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBBcGV4Q2hhcnRzIGZyb20gJ2FwZXhjaGFydHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoZWNraW5XJywKICBwcm9wczogewogICAgbXNnOiBTdHJpbmcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGVja2luOiBbXSwKICAgICAgY3VyVGltZTogIjA5OjAwIiwKICAgICAgb3B0aW9uczogW10sCiAgICAgIGNoYXJ0OiBbXQogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBsZXQgdGltZXNsb3RzID0gWycwOTowMCcsICcwOTozMCcsICcxMDowMCcsICcxMDozMCcsICcxMTowMCcsICcxMTozMCcsICcxMjowMCcsIAogICAgJzEyOjMwJywgJzEzOjAwJywgJzEzOjMwJywgJzE0OjAwJywgJzE0OjMwJywgJzE1OjAwJywgJzE1OjMwJywgJzE2OjAwJywgJzE2OjMwJ107CgogICAgbGV0IHJlYWRUaW1lcyA9IFsnOWFtJywgJzk6MzBhbScsICcxMGFtJywgJzEwOjMwYW0nLCAnMTFhbScsICcxMTozMGFtJywgJzEycG0nLCAKICAgICcxMjozMHBtJywgJzFwbScsICcxOjMwcG0nLCAnMnBtJywgJzI6MzBwbScsICczcG0nLCAnMzozMHBtJywgJzRwbScsICc0OjMwcG0nXTsKCiAgICAvL2JhciBjaGFydCBmb3IgY2hlY2staW5zCgogICAgdGhpcy5vcHRpb25zID0gewogICAgICBzZXJpZXM6IFt7CiAgICAgICAgZGF0YTogW10KICAgICAgfV0sCiAgICAgIGNoYXJ0OiB7CiAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgaGVpZ2h0OiAzNTAKICAgICAgfSwKICAgICAgcGxvdE9wdGlvbnM6IHsKICAgICAgICBiYXI6IHsKICAgICAgICAgIGhvcml6b250YWw6IHRydWUsCiAgICAgICAgfQogICAgICB9LAogICAgICBkYXRhTGFiZWxzOiB7CiAgICAgICAgZW5hYmxlZDogZmFsc2UKICAgICAgfSwKICAgICAgeGF4aXM6IHsKICAgICAgICBjYXRlZ29yaWVzOiByZWFkVGltZXMsCiAgICAgICAgdGlja0Ftb3VudDogNSwKICAgICAgICBtYXg6IDUKICAgICAgfQogICAgfTsKCiAgICAKICAgIHRpbWVzbG90cy5mb3JFYWNoKCh0aW1lKSA9PiB7CiAgICAgIC8vY29uc29sZS5sb2codGltZSk7CiAgICAgIGF4aW9zLmdldChgL2FwaS9jaGVja2lucy8ke3RpbWV9YCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGZ1bGxSZXNwb25zZSA9IHJlcy5yZXNwb25zZSA9PT0gdW5kZWZpbmVkID8gcmVzIDogcmVzLnJlc3BvbnNlOwogICAgICAgICAgICBsZXQgcGVvcGxlID0gZnVsbFJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIC8vIHRoaXMuY2hlY2tpbi5wdXNoKHsKICAgICAgICAgICAgLy8gICBjdGltZTogdGltZSwgCiAgICAgICAgICAgIC8vICAgY291bnQ6IHBlb3BsZQogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNlcmllc1swXS5kYXRhLnB1c2gocGVvcGxlKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZXJyKTsKICAgICAgICB9KTsKICAgIH0pCgogICAgY29uc29sZS5sb2codGhpcy5vcHRpb25zLnNlcmllc1swXS5kYXRhKTsKCiAgICB0aGlzLmNoYXJ0ID0gbmV3IEFwZXhDaGFydHMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NoYXJ0IiksIHRoaXMub3B0aW9ucyk7CiAgICB0aGlzLmNoYXJ0LnJlbmRlcigpOwoKICB9LAogIAogIG1ldGhvZHM6IHsKICAgICAgY2hlY2tJbigpIHsKICAgICAgICAvLyBhbGVydCgnY2hlY2tpbicpOwogICAgICAgIC8vIHRoaXMuYnViYmxlMyA9ICF0aGlzLmJ1YmJsZTM7CiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNoZWNraW4pCiAgICAgICAgbGV0IGJvZHlDb250ZW50ID0ge3RpbWVzbG90OnRoaXMuY3VyVGltZX07CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5DaGVja2luVykKICAgICAgICBjb25zb2xlLmxvZyhib2R5Q29udGVudCk7CiAgICAgICAgYXhpb3MucG9zdCgnL2FwaS9jaGVja2lucy8nLCBib2R5Q29udGVudCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgYWxlcnQoIlN1Y2Nlc3NmdWxseSBjaGVja2VkIGluIGZvciAiICsgdGhpcy5jdXJUaW1lKTsKCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT57CiAgICAgICAgICBhbGVydCgiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBjaGVjayBpbiIpOwogICAgICAgIH0pCiAgICAgICAgdGhpcy5jaGVja2luID0gW107CiAgICAgICAgLy8gdGhpcy5vcHRpb25zLnNlcmllc1swXS5kYXRhID0gW107CiAgICAgICAgbGV0IG5ld19kYXRhID0gW107CiAgICAgICAgbGV0IHRpbWVzbG90cyA9IFsnMDk6MDAnLCAnMDk6MzAnLCAnMTA6MDAnLCAnMTA6MzAnLCAnMTE6MDAnLCAnMTE6MzAnLCAnMTI6MDAnLCAnMTI6MzAnLAogICAgICAgICAgICAgICAgICAgICAgICAnMTM6MDAnLCAnMTM6MzAnLCAnMTQ6MDAnLCAnMTQ6MzAnLCAnMTU6MDAnLCAnMTU6MzAnLCAnMTY6MDAnLCAnMTY6MzAnXTsKCiAgICAgICAgdGltZXNsb3RzLmZvckVhY2goKHRpbWUpID0+IHsKICAgICAgICAgIC8vY29uc29sZS5sb2codGltZSk7CiAgICAgICAgICBheGlvcy5nZXQoYC9hcGkvY2hlY2tpbnMvJHt0aW1lfWApCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxSZXNwb25zZSA9IHJlcy5yZXNwb25zZSA9PT0gdW5kZWZpbmVkID8gcmVzIDogcmVzLnJlc3BvbnNlOwogICAgICAgICAgICAgICAgbGV0IHBlb3BsZSA9IGZ1bGxSZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICAgICAgLy8gdGhpcy5jaGVja2luLnB1c2goewogICAgICAgICAgICAgICAgLy8gICBjdGltZTogdGltZSwgCiAgICAgICAgICAgICAgICAvLyAgIGNvdW50OiBwZW9wbGUKICAgICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgICAgbmV3X2RhdGEucHVzaChwZW9wbGUpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KQoKICAgICAgICB0aGlzLmNoYXJ0LnVwZGF0ZVNlcmllcyhbe2RhdGE6IG5ld19kYXRhfV0pOwogICAgICAgIHRoaXMuY2hhcnQucmVuZGVyKCk7CiAgICAgIH0sCiAgICAgIAogICAgICBnZXRDb3VudCh0aGlzdGltZXNsb3QpIHsKICAgICAgICAvLyBsZXQgYm9keUNvbnRlbnQgPSB7dGltZXNsb3Q6IHRoaXN0aW1lc2xvdH0KICAgICAgICAvLyBheGlvcy5nZXQoJy9hcGkvY2hlY2tpbnMvJywgYm9keUNvbnRlbnQpCiAgICAgICAgbGV0IGNvdW50ID0gMDsKICAgICAgICBheGlvcy5nZXQoYC9hcGkvY2hlY2tpbnMvJHt0aGlzdGltZXNsb3R9YCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAvLyBjb3VudCA9IHJlcy5ib2R5LmNvdW50OwogICAgICAgICAgY29uc3QgZnVsbFJlc3BvbnNlID0gcmVzLnJlc3BvbnNlID09PSB1bmRlZmluZWQgPyByZXMgOiByZXMucmVzcG9uc2U7CiAgICAgICAgICBjb3VudCA9IGZ1bGxSZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgLy90aGlzLmNoZWNraW4gPSBbXQoKICAgICAgICAgIGNvbnNvbGUubG9nKGNvdW50KTsKICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IgZ2V0dGluZyBjb3VudCBmb3IgIiArIHRoaXN0aW1lc2xvdCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgfQp9Cg=="},{"version":3,"sources":["CheckinW.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"CheckinW.vue","sourceRoot":"src/components/MainContent","sourcesContent":["<template>\n  <div class=\"hello\">\n    <div id=\"title\">Reserve</div>\n\n    <!-- <div class=\"icon\"> <img alt=\"Home\" src=\"../../assets/worldwide.png\" width=20 height=20> </div> -->\n\n    <!-- <ul class=\"bargraph\"> -->\n      <!-- <div> <p v-for=\"time in checkin\" :key=\"time.count\">\n        <span style=\"font-weight: 800;\">{{ time.ctime }}:</span> {{ time.count }}\n      </p> </div> -->\n    <!-- </ul> -->\n\n    <div id=\"chart\"></div>\n\n    <!-- <input type=\"text\" id=\"fname\" name=\"fname\"><br> --> <!-- check-in comment? -->\n\n    <select name=\"times\" id=\"times\" v-model=\"curTime\">\n      <option value=\"09:00\">9am</option>\n      <option value=\"09:30\">9:30am</option>\n      <option value=\"10:00\">10am</option>\n      <option value=\"10:30\">10:30am</option>\n      <option value=\"11:00\">11am</option>\n      <option value=\"11:30\">11:30am</option>\n      <option value=\"12:00\">12pm</option>\n      <option value=\"12:30\">12:30pm</option>\n      <option value=\"13:00\">1pm</option>\n      <option value=\"13:30\">1:30pm</option>\n      <option value=\"14:00\">2pm</option>\n      <option value=\"14:30\">2:30pm</option>\n      <option value=\"15:00\">3pm</option>\n      <option value=\"15:30\">3:30pm</option>\n      <option value=\"16:00\">4pm</option>\n      <option value=\"16:30\">4:30pm</option>\n    </select>\n\n    <button class=\"checkin\" type=\"button\" v-on:click=\"checkIn()\">Reserve!</button>\n  </div>\n  \n</template>\n\n<script>\nimport axios from \"axios\";\nimport ApexCharts from 'apexcharts';\nexport default {\n  name: 'CheckinW',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      checkin: [],\n      curTime: \"09:00\",\n      options: [],\n      chart: []\n    }\n  },\n\n  mounted() {\n    let timeslots = ['09:00', '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', \n    '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30'];\n\n    let readTimes = ['9am', '9:30am', '10am', '10:30am', '11am', '11:30am', '12pm', \n    '12:30pm', '1pm', '1:30pm', '2pm', '2:30pm', '3pm', '3:30pm', '4pm', '4:30pm'];\n\n    //bar chart for check-ins\n\n    this.options = {\n      series: [{\n        data: []\n      }],\n      chart: {\n        type: 'bar',\n        height: 350\n      },\n      plotOptions: {\n        bar: {\n          horizontal: true,\n        }\n      },\n      dataLabels: {\n        enabled: false\n      },\n      xaxis: {\n        categories: readTimes,\n        tickAmount: 5,\n        max: 5\n      }\n    };\n\n    \n    timeslots.forEach((time) => {\n      //console.log(time);\n      axios.get(`/api/checkins/${time}`)\n        .then((res) => {\n            const fullResponse = res.response === undefined ? res : res.response;\n            let people = fullResponse.data.count;\n            // this.checkin.push({\n            //   ctime: time, \n            //   count: people\n            // });\n            this.options.series[0].data.push(people);\n        })\n        .catch((err) => {\n            this.errors.push(err);\n        });\n    })\n\n    console.log(this.options.series[0].data);\n\n    this.chart = new ApexCharts(document.querySelector(\"#chart\"), this.options);\n    this.chart.render();\n\n  },\n  \n  methods: {\n      checkIn() {\n        // alert('checkin');\n        // this.bubble3 = !this.bubble3;\n        //console.log(this.checkin)\n        let bodyContent = {timeslot:this.curTime};\n        // console.log(this.CheckinW)\n        console.log(bodyContent);\n        axios.post('/api/checkins/', bodyContent)\n        .then(() => {\n          //console.log(response)\n          alert(\"Successfully checked in for \" + this.curTime);\n\n        })\n        .catch(() =>{\n          alert(\"Something went wrong with check in\");\n        })\n        this.checkin = [];\n        // this.options.series[0].data = [];\n        let new_data = [];\n        let timeslots = ['09:00', '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30',\n                        '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30'];\n\n        timeslots.forEach((time) => {\n          //console.log(time);\n          axios.get(`/api/checkins/${time}`)\n            .then((res) => {\n                const fullResponse = res.response === undefined ? res : res.response;\n                let people = fullResponse.data.count;\n                // this.checkin.push({\n                //   ctime: time, \n                //   count: people\n                // });\n                new_data.push(people);\n            })\n            .catch((err) => {\n                this.errors.push(err);\n            });\n        })\n\n        this.chart.updateSeries([{data: new_data}]);\n        this.chart.render();\n      },\n      \n      getCount(thistimeslot) {\n        // let bodyContent = {timeslot: thistimeslot}\n        // axios.get('/api/checkins/', bodyContent)\n        let count = 0;\n        axios.get(`/api/checkins/${thistimeslot}`)\n        .then((res) => {\n          // count = res.body.count;\n          const fullResponse = res.response === undefined ? res : res.response;\n          count = fullResponse.data.count;\n          //this.checkin = []\n\n          console.log(count);\n        }).catch(() => {\n          console.log(\"Error getting count for \" + thistimeslot);\n        });\n      }\n\n  }\n}\n</script>\n\n<style scoped>\n#title {\n  font-size: 30px;\n}\n\n#times {\n  padding: 6px 10px;\n  margin: 1rem 0.5rem;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  box-sizing: border-box;\n  font-family: \"Red Hat Text\";\n  font-size: 16px;\n}\n\n.hello {\n    margin-left: 5px;\n    border-style: solid;\n    border-width: 2px;\n    border-radius: 15px;\n    padding: 30px;\n    box-shadow: 2px 2px;\n\n    height: 85%;\n\n    position: relative;\n}\n\n.hello:hover{\n    box-shadow: 0 5px 5px;\n    transform: scale(1.001);\n}\n\n.checkin {\n  padding: 7px 20px;\n  margin: 0 0.5rem;\n  display: inline-block;\n  background-color: rgba(0, 100, 148, 0.5);;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  box-sizing: border-box;\n  font-family: \"Red Hat Text\";\n  font-size: 16px;\n}\n\n.checkin:hover {\n  opacity: 0.8;\n}\n\nh3 {\n  margin: 40px 0 0;\n}\n\nul {\n  /* list-style-type: none;\n  padding: 0; */\n}\n\nli {\n  /* display: inline-block;\n  margin: 0 10px; */\n}\n\na {\n  color: #42b983;\n}\n\np {\n  padding: 0;\n  margin: 0;\n  text-align: left;\n  border: 1px solid black\n}\n</style>"]}]}